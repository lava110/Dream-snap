<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DreamSnap - æ¢¦å¢ƒå¿«é—¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#FF6B6B',
              secondary: '#4ECDC4',
              accent: '#FFE66D',
              dark: '#2D3436',
              paper: '#F7F9FC',
            },
            fontFamily: {
              sans: ['Segoe UI', 'Tahoma', 'Geneva', 'Verdana', 'sans-serif'],
            }
          }
        }
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
      :root {
        --secondary-color: #4ECDC4;
        --card-bg: #FFFFFF;
      }

      body {
        background-color: #F7F9FC;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .fade-in {
        animation: fadeIn 0.5s ease-out forwards;
      }

      /* --- ğŸ—ï¸ å“åº”å¼åŒæ å¸ƒå±€ (Grid System) --- */
        
      /* å¤§å®¹å™¨è°ƒæ•´ */
      .container {
          width: 100%;
          max-width: 1000px; /* å¢åŠ æœ€å¤§å®½åº¦ï¼Œç»™åŒæ æ›´å¤šç©ºé—´ */
          padding: 30px;
          margin: 0 auto; /* Center it */
          background: var(--card-bg);
          border-radius: 40px; 
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
          position: relative;
      }

      /* å·¥ä½œåŒºå®¹å™¨ */
      .workspace {
          display: flex;
          gap: 40px; /* å·¦å³æ é—´è· */
          align-items: flex-start; /* é¡¶éƒ¨å¯¹é½ */
          text-align: left; /* å†…å®¹å·¦å¯¹é½ */
          margin-top: 20px;
      }

      /* å·¦ä¾§é¢æ¿ */
      .panel-left {
          flex: 1; /* å æ¯” 1 */
          min-width: 300px; /* æœ€å°å®½åº¦ï¼Œé˜²æ­¢æŒ¤å‹ */
      }

      /* å³ä¾§é¢æ¿ */
      .panel-right {
          flex: 1.2; /* å æ¯” 1.2 (ç»™å›¾ç‰‡æ›´å¤šç©ºé—´) */
          position: sticky; /* âœ¨ å…³é”®ï¼šå¸é¡¶æ•ˆæœ */
          top: 20px; /* è·ç¦»é¡¶éƒ¨20pxæ—¶å›ºå®š */
          background: var(--card-bg);
          z-index: 10;
          border-radius: 20px; /* Optional: smooth edges */
      }

      /* ğŸ“± ç§»åŠ¨ç«¯é€‚é… (Media Query) */
      /* å½“å±å¹•å®½åº¦å°äº 768px (å¹³æ¿/æ‰‹æœº) æ—¶ï¼Œå˜ä¸ºä¸Šä¸‹å¸ƒå±€ */
      @media (max-width: 768px) {
          .workspace {
              flex-direction: column; 
              gap: 20px;
          }

          .panel-right {
              position: static; /* æ‰‹æœºä¸Šå–æ¶ˆå¸é¡¶ï¼Œæ”¹ä¸ºè‡ªç„¶æµ */
              width: 100%;
          }
          
          .panel-left {
              width: 100%;
          }
          
          .container {
              padding: 20px; /* æ‰‹æœºä¸Šå‡å°‘å†…è¾¹è· */
              border-radius: 20px;
          }
      }

      /* --- æ”¶è—æŒ‰é’®æ ·å¼ (Reference) --- */
      .save-btn {
          background: #FF7675;
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 20px;
          margin-top: 10px; 
          margin-left: 10px;
          cursor: pointer;
          font-weight: bold;
          box-shadow: 0 4px 10px rgba(255, 118, 117, 0.3);
      }

      /* --- ç”»å»Šç½‘æ ¼å¸ƒå±€ --- */
      .gallery-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); /* è‡ªé€‚åº”åˆ—å®½ */
          gap: 15px;
          margin-top: 20px;
      }

      /* --- 3D ç¿»è½¬å¡ç‰‡å®¹å™¨ --- */
      .gallery-card {
          background-color: transparent;
          height: 150px; /* å¡ç‰‡é«˜åº¦ */
          perspective: 1000px; /* 3D é€è§† */
          cursor: pointer;
      }

      /* å¡ç‰‡å†…éƒ¨æ”¯æ’‘ */
      .card-inner {
          position: relative;
          width: 100%;
          height: 100%;
          text-align: center;
          transition: transform 0.6s;
          transform-style: preserve-3d;
          box-shadow: 0 4px 8px rgba(0,0,0,0.1);
          border-radius: 15px;
      }

      /* é¼ æ ‡æ‚¬åœæˆ–ç‚¹å‡»æ—¶ç¿»è½¬ */
      .gallery-card:hover .card-inner, .gallery-card.flipped .card-inner {
          transform: rotateY(180deg);
      }

      /* æ­£é¢å’ŒèƒŒé¢å…¬å…±æ ·å¼ */
      .card-front, .card-back {
          position: absolute;
          width: 100%;
          height: 100%;
          -webkit-backface-visibility: hidden;
          backface-visibility: hidden;
          border-radius: 15px;
          overflow: hidden;
      }

      /* æ­£é¢ï¼šå›¾ç‰‡ */
      .card-front img {
          width: 100%;
          height: 100%;
          object-fit: cover;
      }

      /* èƒŒé¢ï¼šæ–‡å­— */
      .card-back {
          background-color: #2D3436;
          color: #81ECEC;
          transform: rotateY(180deg);
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 10px;
          font-size: 0.7rem;
          text-align: left;
          overflow-y: auto; /* æ–‡å­—å¤ªé•¿å¯æ»šåŠ¨ */
      }

      /* --- ä¸‹è½½æŒ‰é’®æ ·å¼ --- */
      .download-btn {
          background: var(--secondary-color);
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 20px;
          cursor: pointer;
          font-weight: bold;
          box-shadow: 0 4px 10px rgba(78, 205, 196, 0.3);
          transition: filter 0.3s, transform 0.1s;
      }
      .download-btn:hover {
          filter: brightness(1.1);
      }
      .download-btn:active {
          transform: scale(0.98);
      }

      /* --- ä¼˜åŒ–æŒ‰é’®æ ·å¼ --- */
      .optimize-btn {
          background: #BADA55; /* é†’ç›®çš„ç»¿è‰² */
          color: white;
          border: none;
          padding: 12px 25px; /* ç¨å¾®å¤§ä¸€ç‚¹ */
          border-radius: 25px;
          cursor: pointer;
          font-weight: bold;
          font-size: 1.1rem;
          margin-top: 15px;
          margin-bottom: 10px;
          box-shadow: 0 5px 15px rgba(186, 218, 85, 0.4);
          transition: transform 0.2s, filter 0.3s;
          width: 100%; /* å æ»¡ä¸€è¡Œ */
      }
      .optimize-btn:hover {
          filter: brightness(1.1);
      }
      .optimize-btn:active {
          transform: scale(0.98);
      }

      /* --- ğŸŒˆ å½©è™¹æç¤ºè¯æ ·å¼ --- */
      .token-style { color: #FF7675; font-weight: bold; } /* é£æ ¼ - çº¢ */
      .token-subject { color: #74B9FF; font-weight: bold; } /* ä¸»ä½“ - è“ */
      .token-emotion { color: #A29BFE; font-weight: bold; } /* æƒ…ç»ª - ç´« */
      .token-zoom { color: #55EFC4; font-weight: bold; } /* é•œå¤´ - ç»¿ */
      .token-base { color: #B2BEC3; } /* åŸºç¡€è¯ - ç° */
      .token-light { color: #FDCB6E; font-weight: bold; } /* å…‰ç…§ - é‡‘ */
      .token-weather { color: #00CEC9; font-weight: bold; } /* å¤©æ°” - é’ */
      .token-env { color: #FD79A8; font-weight: bold; cursor: help; border-bottom: 1px dotted currentColor; } /* ç»Ÿä¸€ç¯å¢ƒ - ç²‰ */

      /* ä¼˜åŒ–åçš„ output-box æ–‡å­—å¤§å°å’Œè¡Œé«˜ */
      .output-box {
          font-size: 1.1rem;
          line-height: 1.6;
          font-family: 'Segoe UI', Tahoma, sans-serif; /* ä¸ç”¨ç­‰å®½å­—ä½“äº†ï¼Œç”¨æ˜“è¯»å­—ä½“ */
      }

      /* --- ğŸ“ çŸ¥è¯†ç‚¹æ‚¬æµ® (Tooltips) --- */
        
      /* è®©å½©è‰²è¯æ±‡æ”¯æŒæ‚¬åœäº¤äº’ */
      .token-style, .token-subject, .token-emotion, .token-zoom, .token-base, .token-light, .token-weather, .token-env {
          position: relative;
          cursor: help; /* é¼ æ ‡å˜æˆé—®å· */
          border-bottom: 1px dotted currentColor; /* è™šçº¿å¼ºè°ƒ */
      }

      /* æ‚¬æµ®æ°”æ³¡ (Tooltip) */
      [data-tooltip]:hover::after {
          content: attr(data-tooltip);
          position: absolute;
          bottom: 120%;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(0, 0, 0, 0.8);
          color: #fff;
          padding: 8px 12px;
          border-radius: 8px;
          font-size: 0.8rem;
          font-weight: normal;
          white-space: nowrap;
          z-index: 100;
          pointer-events: none;
          box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      }

      /* å°ä¸‰è§’ */
      [data-tooltip]:hover::before {
          content: '';
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          border: 6px solid transparent;
          border-top-color: rgba(0, 0, 0, 0.8);
      }

      /* å¼€å…³æ ·å¼ */
      .switch { position: relative; display: inline-block; width: 50px; height: 28px; }
      .switch input { opacity: 0; width: 0; height: 0; }
      .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
      .slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
      input:checked + .slider { background-color: #2196F3; }
      input:checked + .slider:before { transform: translateX(22px); }

    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.554.0"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
  </body>
</html>
